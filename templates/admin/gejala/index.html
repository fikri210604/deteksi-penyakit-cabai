{% extends 'app.html' %}
{% block title %}Manajemen Gejala{% endblock %}

{% block content %}

<!-- HEADER -->
<div class="flex items-center justify-between mb-6">
    <div>
        <h1 class="text-2xl font-bold text-red-700">Manajemen Gejala</h1>
        <p class="text-gray-600 text-sm mt-1">
            Kelola daftar gejala yang digunakan dalam proses diagnosa penyakit tanaman cabai.
        </p>
    </div>

    <a href="{{ url_for('gejala_bp.create') }}"
       class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow-md transition flex items-center gap-2">
        <span class="material-symbols-outlined text-white text-base">add_circle</span>
        Tambah Gejala
    </a>
</div>


<!-- TABLE CONTAINER -->
<div class="bg-white rounded-xl shadow-md border overflow-x-auto">

    <table class="min-w-full text-sm text-center">

        <!-- TABLE HEADER -->
        <thead class="bg-gradient-to-r from-red-600 to-red-500 text-white">
            <tr>
                <th class="px-4 py-3 font-semibold">Kode</th>
                <th class="px-4 py-3 font-semibold">Nama Gejala</th>
                <th class="px-4 py-3 font-semibold">Deskripsi</th>
                <th class="px-4 py-3 font-semibold">Aksi</th>
            </tr>
        </thead>

        <tbody>

            {% for g in gejala %}
            <tr class="odd:bg-red-50 even:bg-white hover:bg-red-100/60 transition">

                <td class="px-4 py-3 font-semibold text-gray-800">
                    {{ g.kode }}
                </td>

                <td class="px-4 py-3 text-gray-800">
                    {{ g.nama }}
                </td>

                <td class="px-4 py-3 text-gray-700 text-xs">
                    {{ g.deskripsi or '-' }}
                </td>

                <!-- ACTION BUTTONS -->
                <td class="px-4 py-3">
                    <div class="flex items-center justify-center gap-3">

                        <!-- Edit -->
                        <a href="{{ url_for('gejala_bp.edit', id=g.id) }}"
                           class="text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1">
                            <span class="material-symbols-outlined text-sm">edit</span>
                            Edit
                        </a>

                        <!-- Delete -->
                        <form method="post"
                              action="{{ url_for('gejala_bp.delete', id=g.id) }}"
                              onsubmit="return confirm('Yakin ingin menghapus gejala ini?')">

                            <button class="text-red-600 hover:text-red-800 font-medium flex items-center gap-1">
                                <span class="material-symbols-outlined text-sm">delete</span>
                                Hapus
                            </button>

                        </form>
                    </div>
                </td>

            </tr>

            {% else %}
            <!-- EMPTY STATE -->
            <tr>
                <td colspan="4" class="px-4 py-10 text-center text-gray-500">
                    <div class="flex flex-col items-center">
                        <span class="material-symbols-outlined text-4xl text-gray-300 mb-2">info</span>
                        <p class="text-gray-600 font-medium">Belum ada gejala yang terdaftar.</p>
                        <a href="{{ url_for('gejala_bp.create') }}"
                           class="text-red-600 hover:text-red-700 mt-2">
                           Tambah gejala pertama
                        </a>
                    </div>
                </td>
            </tr>
            {% endfor %}

        </tbody>
    </table>
</div>

{% endblock %}
